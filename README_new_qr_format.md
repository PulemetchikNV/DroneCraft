# üéØ –ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç QR-–∫–æ–¥–æ–≤ –¥–ª—è 3 –¥—Ä–æ–Ω–æ–≤

–û–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–æ–≤—ã–π —É–ø—Ä–æ—â—ë–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç QR-–∫–æ–¥–æ–≤, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è 3 –¥—Ä–æ–Ω–æ–≤.

## üÜï –ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç QR-–∫–æ–¥–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞: `[recipe_id][qr_position][items]`

| –ü–æ–∑–∏—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|---------|----------|---------|
| 1-—è —Ü–∏—Ñ—Ä–∞ | ID –∫—Ä–∞—Ñ—Ç–∞ (0-9) | `3` |
| 2-—è —Ü–∏—Ñ—Ä–∞ | –ü–æ–∑–∏—Ü–∏—è QR-–∫–æ–¥–∞ (0-8) | `7` |
| 3+ —Å–∏–º–≤–æ–ª—ã | –ë–ª–æ–∫–∏ –¥–ª—è –¥—Ä–æ–Ω–æ–≤ | `DDS` |

### –ü—Ä–∏–º–µ—Ä—ã QR-–∫–æ–¥–æ–≤:
- `37DDS` - Recipe 3, QR –≤ –ø–æ–∑–∏—Ü–∏–∏ 7, –±–ª–æ–∫–∏ D,D,S
- `25SDD` - Recipe 2, QR –≤ –ø–æ–∑–∏—Ü–∏–∏ 5, –±–ª–æ–∫–∏ S,D,D  
- `18DSD` - Recipe 1, QR –≤ –ø–æ–∑–∏—Ü–∏–∏ 8, –±–ª–æ–∫–∏ D,S,D
- `04SSS` - Recipe 0, QR –≤ –ø–æ–∑–∏—Ü–∏–∏ 4, –±–ª–æ–∫–∏ S,S,S

## üó∫Ô∏è –°–µ—Ç–∫–∞ –ø–æ–∑–∏—Ü–∏–π (3x3)

```
0:(0,0)  1:(1,0)  2:(2,0)
3:(0,1)  4:(1,1)  5:(2,1)
6:(0,2)  7:(1,2)  8:(2,2)
```

- **–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã**: –û—Ç (0,0) —Å –æ—Ç—Å—Ç—É–ø–æ–º 1 –º–µ—Ç—Ä
- **–ü–æ–∑–∏—Ü–∏–∏**: 0-8 (—Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ, —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑)
- **QR –ø–æ–∑–∏—Ü–∏—è**: –ó–∞–Ω—è—Ç–∞ QR-–∫–æ–¥–æ–º, –¥—Ä–æ–Ω—ã –µ—ë –∏–∑–±–µ–≥–∞—é—Ç

## ü§ñ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –¥—Ä–æ–Ω–æ–≤

### –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:
1. **QR-–∫–æ–¥** –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–∞–∫–∏–µ –±–ª–æ–∫–∏ –Ω—É–∂–Ω—ã
2. **–î—Ä–æ–Ω—ã** –Ω–∞–∑–Ω–∞—á–∞—é—Ç—Å—è –ø–æ –ø–æ—Ä—è–¥–∫—É: –ª–∏–¥–µ—Ä ‚Üí —Ñ–æ–ª–æ–≤–µ—Ä1 ‚Üí —Ñ–æ–ª–æ–≤–µ—Ä2
3. **–ü–æ–∑–∏—Ü–∏–∏** –≤—ã–±–∏—Ä–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–∏—Å–∫–ª—é—á–∞—è QR –ø–æ–∑–∏—Ü–∏—é)

### –ü—Ä–∏–º–µ—Ä –¥–ª—è `37DDS`:
- **QR** –≤ –ø–æ–∑–∏—Ü–∏–∏ 7 (1.0, 2.0) 
- **drone7** (–ª–∏–¥–µ—Ä): –±–ª–æ–∫ `D` ‚Üí –ø–æ–∑–∏—Ü–∏—è 0 (0.0, 0.0)
- **drone6**: –±–ª–æ–∫ `D` ‚Üí –ø–æ–∑–∏—Ü–∏—è 1 (1.0, 0.0)  
- **drone19**: –±–ª–æ–∫ `S` ‚Üí –ø–æ–∑–∏—Ü–∏—è 2 (2.0, 0.0)

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### .env —Ñ–∞–π–ª—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã:
```env
# –ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç fallback —Ä–µ—Ü–µ–ø—Ç–∞
RECIPE=37DDS
```

### –¢–∏–ø—ã –¥—Ä–æ–Ω–æ–≤:
- `D` - Diamond –¥—Ä–æ–Ω—ã (–∞–ª–º–∞–∑–Ω—ã–µ –±–ª–æ–∫–∏)
- `S` - Stick –¥—Ä–æ–Ω—ã (–ø–∞–ª–∫–∏)  
- `ANY` - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –¥—Ä–æ–Ω—ã

## üöÄ –ó–∞–ø—É—Å–∫

```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –ª–∏–¥–µ—Ä–∞
./scripts/setup_env.sh drone7

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Ñ–æ–ª–æ–≤–µ—Ä–æ–≤
./scripts/setup_env.sh drone6   # Diamond –¥—Ä–æ–Ω
./scripts/setup_env.sh drone19  # Stick –¥—Ä–æ–Ω

# –ó–∞–ø—É—Å–∫ (–±–µ–∑ export –∫–æ–º–∞–Ω–¥!)
python3 drone/main_2.py
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –¢–µ—Å—Ç –Ω–æ–≤–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ QR-–∫–æ–¥–æ–≤
python3 test_new_qr_format.py

# –¢–µ—Å—Ç —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è –∏–º—ë–Ω –¥—Ä–æ–Ω–æ–≤
python3 test_short_names.py
```

## ‚ö° –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞

- ‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: –¢–æ–ª—å–∫–æ 3 –¥—Ä–æ–Ω–∞, –±–µ–∑ —Å–ª–æ–∂–Ω—ã—Ö recipe matrix
- ‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å**: –õ—é–±—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –±–ª–æ–∫–æ–≤ D/S
- ‚úÖ **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å**: `37DDS` –ø–æ–Ω—è—Ç–Ω–µ–µ —á–µ–º `025SDD`
- ‚úÖ **–ö–æ–º–ø–∞–∫—Ç–Ω–æ—Å—Ç—å**: –ö–æ—Ä–æ—á–µ –Ω–∞ 1 —Å–∏–º–≤–æ–ª
- ‚úÖ **–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã**: –ü—Ä–æ—Å—Ç–∞—è —Å–µ—Ç–∫–∞ –æ—Ç (0,0)

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–æ–≤

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –°—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç | –ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç |
|----------|---------------|---------------|
| –ü—Ä–∏–º–µ—Ä | `025SDD` | `37DDS` |
| –î–ª–∏–Ω–∞ | 6 —Å–∏–º–≤–æ–ª–æ–≤ | 5 —Å–∏–º–≤–æ–ª–æ–≤ |
| –î—Ä–æ–Ω–æ–≤ | –î–æ 9 | –†–æ–≤–Ω–æ 3 |
| –ü–æ–∑–∏—Ü–∏–∏ | ArUco –º–∞—Ä–∫–µ—Ä—ã | –ü—Ä–æ—Å—Ç–∞—è —Å–µ—Ç–∫–∞ |
| –°–ª–æ–∂–Ω–æ—Å—Ç—å | Recipe matrix | –ü—Ä—è–º–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ |

## üéØ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ª—é–±—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –±–ª–æ–∫–æ–≤ –¥–ª—è 3 –¥—Ä–æ–Ω–æ–≤:

| –ö–æ–¥ | –ë–ª–æ–∫–∏ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|-------|----------|
| `XXX**DDD**` | 3 –∞–ª–º–∞–∑–∞ | –í—Å–µ –¥—Ä–æ–Ω—ã Diamond |
| `XXX**SSS**` | 3 –ø–∞–ª–∫–∏ | –í—Å–µ –¥—Ä–æ–Ω—ã Stick |
| `XXX**DDS**` | 2 –∞–ª–º–∞–∑–∞ + –ø–∞–ª–∫–∞ | –°–º–µ—à–∞–Ω–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ |
| `XXX**SDD**` | –ü–∞–ª–∫–∞ + 2 –∞–ª–º–∞–∑–∞ | –î—Ä—É–≥–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è |

–ì–¥–µ `XXX` = –ø–æ–∑–∏—Ü–∏—è QR (0-8), `**` = ID —Ä–µ—Ü–µ–ø—Ç–∞ (0-9)

## üîó –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- ‚úÖ **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** —Å–æ —Å—Ç–∞—Ä—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ** —Ñ–æ—Ä–º–∞—Ç–∞ –ø–æ –¥–ª–∏–Ω–µ
- ‚úÖ **–°–æ–∫—Ä–∞—â—ë–Ω–Ω—ã–µ –∏–º–µ–Ω–∞ –¥—Ä–æ–Ω–æ–≤** (drone6 ‚Üí 6)
- ‚úÖ **–õ–∏–º–∏—Ç 125 —Å–∏–º–≤–æ–ª–æ–≤** –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö —Å–æ–±–ª—é–¥—ë–Ω
